{"version":3,"sources":["../src/utils/Margin.js"],"names":["zeroMargin","top","bottom","left","right","getFuzzy","obj","fuzzyKey","keyMatch","Object","keys","find","key","match","RegExp","undefined","innerWidth","width","margin","Math","max","innerHeight","height","innerSize","innerRangeX","outerWidth","min","innerRangeY","outerHeight","prefixKeys","prefix","value","maxMargins","margins","keyPrefix","reduce","result","sumMargins"],"mappings":"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","sourcesContent":["import mapKeys from 'lodash/mapKeys';\nimport upperFirst from 'lodash/upperFirst';\nimport mapValues from 'lodash/mapValues';\nimport clone from 'lodash/clone';\n\nexport const zeroMargin = { top: 0, bottom: 0, left: 0, right: 0 };\n\n// find a fuzzy match for key in object and return the value\n// eg getFuzzy({marginLeft: 10}, 'left') returns 10\nfunction getFuzzy(obj = {}, fuzzyKey) {\n  const keyMatch = Object.keys(obj).find(key => {\n    if (!!key.match(new RegExp(fuzzyKey, 'i'))) {\n      return true;\n    }\n    return false;\n  });\n\n  if (keyMatch === undefined) {\n    return;\n  }\n\n  return obj[keyMatch];\n}\n\nexport function innerWidth(width, margin = {}) {\n  return Math.max(\n    width -\n      ((getFuzzy(margin, 'left') || 0) + (getFuzzy(margin, 'right') || 0)),\n    0,\n  );\n}\n\nexport function innerHeight(height, margin = {}) {\n  return Math.max(\n    height -\n      ((getFuzzy(margin, 'top') || 0) + (getFuzzy(margin, 'bottom') || 0)),\n    0,\n  );\n}\n\nexport function innerSize({ width, height } = {}, margin = {}) {\n  return {\n    width: innerWidth(width, margin),\n    height: innerHeight(height, margin),\n  };\n}\n\nexport function innerRangeX(outerWidth, margin = {}) {\n  const left = getFuzzy(margin, 'left') || 0;\n  return [\n    Math.min(left, outerWidth),\n    Math.min(left + innerWidth(outerWidth, margin), outerWidth),\n  ];\n}\nexport function innerRangeY(outerHeight, margin = {}) {\n  const top = getFuzzy(margin, 'top') || 0;\n  return [\n    Math.min(top + innerHeight(outerHeight, margin), outerHeight),\n    Math.min(top, outerHeight),\n  ];\n}\n\nexport function prefixKeys(obj, prefix) {\n  if (!prefix) return obj;\n  return mapKeys(obj, (value, key) => prefix + upperFirst(key));\n}\n\n// TODO this isn't used anywhere, deprecate?\nexport function maxMargins(margins = [], keyPrefix) {\n  return margins.reduce((result, margin) => {\n    return mapValues(result, (value, key) => {\n      return Math.max(margin[key] || 0, result[key] || 0);\n    });\n  }, clone(prefixKeys(zeroMargin, keyPrefix)));\n}\n\nexport function sumMargins(margins = [], keyPrefix) {\n  return margins.reduce((result, margin) => {\n    return mapValues(result, (value, key) => {\n      return (result[key] || 0) + (margin[key] || 0);\n    });\n  }, clone(prefixKeys(zeroMargin, keyPrefix)));\n}\n"],"file":"Margin.js"}